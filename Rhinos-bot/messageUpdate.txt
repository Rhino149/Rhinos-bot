const Discord = require('discord.js')
module.exports = async (client, message, guild, newMessage, content) => {
  const settings = client.getSettings(message.guild);
  if (settings.messageLogging !== "true") return;
  if (guild === null) return
  if (settings.messageLogChannel && message.guild.channels.find(c => c.name == settings.messageLogChannel)) {
  let embed = new Discord.RichEmbed()
  .setAuthor(message.author.tag, message.author.avatarURL)
  .setThumbnail(message.author.avatarURL)
  .setColor("RANDOM")
  .setTitle(`Message was edited in #${message.channel.name}`) 
  .addField('Before: ', `${message.content}\n .`, true)
  .addField('After: ', `${message.content} \nthis is a work in progress so this may not work`, true)
  .setTimestamp(Date.now() - 5000)
  .setFooter(message.author.id)
  
  

  message.guild.channels.find(c => c.name === settings.messageLogChannel).send(embed).catch(console.error);
  }
}

